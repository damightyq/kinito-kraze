// Generated by Haxe 4.3.4
#include <hxcpp.h>

#ifndef INCLUDED_Date
#include <Date.h>
#endif
#ifndef INCLUDED_EReg
#include <EReg.h>
#endif
#ifndef INCLUDED_Reflect
#include <Reflect.h>
#endif
#ifndef INCLUDED_Std
#include <Std.h>
#endif
#ifndef INCLUDED_StringTools
#include <StringTools.h>
#endif
#ifndef INCLUDED_Xml
#include <Xml.h>
#endif
#ifndef INCLUDED__Xml_XmlType_Impl_
#include <_Xml/XmlType_Impl_.h>
#endif
#ifndef INCLUDED_flxanimate_format_PropertyList
#include <flxanimate/format/PropertyList.h>
#endif
#ifndef INCLUDED_haxe_xml__Access_Access_Impl_
#include <haxe/xml/_Access/Access_Impl_.h>
#endif
#ifndef INCLUDED_haxe_xml__Access_HasNodeAccess_Impl_
#include <haxe/xml/_Access/HasNodeAccess_Impl_.h>
#endif
#ifndef INCLUDED_haxe_xml__Access_NodeAccess_Impl_
#include <haxe/xml/_Access/NodeAccess_Impl_.h>
#endif

HX_LOCAL_STACK_FRAME(_hx_pos_8b9e85c4d6a3364a_24_parse,"flxanimate.format.PropertyList","parse",0x00b98510,"flxanimate.format.PropertyList.parse","flxanimate/format/PropertyList.hx",24,0x8d0e5bf3)
HX_LOCAL_STACK_FRAME(_hx_pos_8b9e85c4d6a3364a_30_parseDate,"flxanimate.format.PropertyList","parseDate",0x0005cf5e,"flxanimate.format.PropertyList.parseDate","flxanimate/format/PropertyList.hx",30,0x8d0e5bf3)
HX_LOCAL_STACK_FRAME(_hx_pos_8b9e85c4d6a3364a_44_parseDict,"flxanimate.format.PropertyList","parseDict",0x000bd2a6,"flxanimate.format.PropertyList.parseDict","flxanimate/format/PropertyList.hx",44,0x8d0e5bf3)
HX_LOCAL_STACK_FRAME(_hx_pos_8b9e85c4d6a3364a_62_parseValue,"flxanimate.format.PropertyList","parseValue",0x62401041,"flxanimate.format.PropertyList.parseValue","flxanimate/format/PropertyList.hx",62,0x8d0e5bf3)
HX_LOCAL_STACK_FRAME(_hx_pos_8b9e85c4d6a3364a_16_boot,"flxanimate.format.PropertyList","boot",0x92ea99f5,"flxanimate.format.PropertyList.boot","flxanimate/format/PropertyList.hx",16,0x8d0e5bf3)
namespace flxanimate{
namespace format{

void PropertyList_obj::__construct() { }

Dynamic PropertyList_obj::__CreateEmpty() { return new PropertyList_obj; }

void *PropertyList_obj::_hx_vtable = 0;

Dynamic PropertyList_obj::__Create(::hx::DynamicArray inArgs)
{
	::hx::ObjectPtr< PropertyList_obj > _hx_result = new PropertyList_obj();
	_hx_result->__construct();
	return _hx_result;
}

bool PropertyList_obj::_hx_isInstanceOf(int inClassId) {
	return inClassId==(int)0x00000001 || inClassId==(int)0x07c458d9;
}

 ::EReg PropertyList_obj::_dateRegex;

 ::Dynamic PropertyList_obj::parse(::String text){
            	HX_STACKFRAME(&_hx_pos_8b9e85c4d6a3364a_24_parse)
HXLINE(  25)		 ::Xml x = ::Xml_obj::parse(text)->firstElement();
HXDLIN(  25)		bool _hx_tmp;
HXDLIN(  25)		if ((x->nodeType != ::Xml_obj::Document)) {
HXLINE(  25)			_hx_tmp = (x->nodeType != ::Xml_obj::Element);
            		}
            		else {
HXLINE(  25)			_hx_tmp = false;
            		}
HXDLIN(  25)		if (_hx_tmp) {
HXLINE(  25)			HX_STACK_DO_THROW((HX_("Invalid nodeType ",3b,e0,cb,e1) + ::_Xml::XmlType_Impl__obj::toString(x->nodeType)));
            		}
HXDLIN(  25)		 ::Xml fast = x;
HXLINE(  26)		if (::haxe::xml::_Access::HasNodeAccess_Impl__obj::resolve(fast,HX_("dict",76,59,69,42))) {
HXLINE(  26)			return ::flxanimate::format::PropertyList_obj::parseDict(::haxe::xml::_Access::NodeAccess_Impl__obj::resolve(fast,HX_("dict",76,59,69,42)));
            		}
            		else {
HXLINE(  26)			return  ::Dynamic(::hx::Anon_obj::Create(0));
            		}
HXDLIN(  26)		return null();
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC1(PropertyList_obj,parse,return )

 ::Date PropertyList_obj::parseDate(::String text){
            	HX_STACKFRAME(&_hx_pos_8b9e85c4d6a3364a_30_parseDate)
HXLINE(  31)		if (!(::flxanimate::format::PropertyList_obj::_dateRegex->match(text))) {
HXLINE(  33)			HX_STACK_DO_THROW(((HX_("Invalid date \"",d9,c7,ff,ef) + text) + HX_("\" (only yyyy-mm-dd and yyyy-mm-ddThh:mm:ssZ supported)",76,4f,2d,5d)));
            		}
HXLINE(  35)		text = ::flxanimate::format::PropertyList_obj::_dateRegex->matched(1);
HXLINE(  36)		if (::hx::IsNotNull( ::flxanimate::format::PropertyList_obj::_dateRegex->matched(2) )) {
HXLINE(  38)			text = (text + (HX_(" ",20,00,00,00) + ::flxanimate::format::PropertyList_obj::_dateRegex->matched(2)));
            		}
HXLINE(  40)		return ::Date_obj::fromString(text);
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC1(PropertyList_obj,parseDate,return )

 ::Dynamic PropertyList_obj::parseDict( ::Xml node){
            	HX_STACKFRAME(&_hx_pos_8b9e85c4d6a3364a_44_parseDict)
HXLINE(  45)		::String key = null();
HXLINE(  46)		 ::Dynamic result =  ::Dynamic(::hx::Anon_obj::Create(0));
HXLINE(  47)		{
HXLINE(  47)			 ::Dynamic childNode = node->elements();
HXDLIN(  47)			while(( (bool)(childNode->__Field(HX_("hasNext",6d,a5,46,18),::hx::paccDynamic)()) )){
HXLINE(  47)				 ::Xml childNode1 = ( ( ::Xml)(childNode->__Field(HX_("next",f3,84,02,49),::hx::paccDynamic)()) );
HXLINE(  49)				::String _hx_tmp;
HXDLIN(  49)				if ((childNode1->nodeType == ::Xml_obj::Document)) {
HXLINE(  49)					_hx_tmp = HX_("Document",3b,ab,c4,74);
            				}
            				else {
HXLINE(  49)					if ((childNode1->nodeType != ::Xml_obj::Element)) {
HXLINE(  49)						HX_STACK_DO_THROW((HX_("Bad node type, expected Element but found ",d8,90,8b,bb) + ::_Xml::XmlType_Impl__obj::toString(childNode1->nodeType)));
            					}
HXDLIN(  49)					_hx_tmp = childNode1->nodeName;
            				}
HXDLIN(  49)				if ((_hx_tmp == HX_("key",9f,89,51,00))) {
HXLINE(  51)					key = ::haxe::xml::_Access::Access_Impl__obj::get_innerData(childNode1);
            				}
            				else {
HXLINE(  53)					if (::hx::IsNotNull( key )) {
HXLINE(  55)						::Reflect_obj::setField(result,key,::flxanimate::format::PropertyList_obj::parseValue(childNode1));
            					}
            				}
            			}
            		}
HXLINE(  58)		return result;
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC1(PropertyList_obj,parseDict,return )

 ::Dynamic PropertyList_obj::parseValue( ::Xml node){
            	HX_STACKFRAME(&_hx_pos_8b9e85c4d6a3364a_62_parseValue)
HXLINE(  63)		 ::Dynamic value = null();
HXLINE(  64)		{
HXLINE(  64)			::String _g;
HXDLIN(  64)			if ((node->nodeType == ::Xml_obj::Document)) {
HXLINE(  64)				_g = HX_("Document",3b,ab,c4,74);
            			}
            			else {
HXLINE(  64)				if ((node->nodeType != ::Xml_obj::Element)) {
HXLINE(  64)					HX_STACK_DO_THROW((HX_("Bad node type, expected Element but found ",d8,90,8b,bb) + ::_Xml::XmlType_Impl__obj::toString(node->nodeType)));
            				}
HXDLIN(  64)				_g = node->nodeName;
            			}
HXDLIN(  64)			::String _hx_switch_0 = _g;
            			if (  (_hx_switch_0==HX_("array",99,6d,8f,25)) ){
HXLINE(  67)				value = ::cpp::VirtualArray_obj::__new();
HXLINE(  68)				{
HXLINE(  68)					 ::Dynamic childNode = node->elements();
HXDLIN(  68)					while(( (bool)(childNode->__Field(HX_("hasNext",6d,a5,46,18),::hx::paccDynamic)()) )){
HXLINE(  68)						 ::Xml childNode1 = ( ( ::Xml)(childNode->__Field(HX_("next",f3,84,02,49),::hx::paccDynamic)()) );
HXLINE(  70)						 ::Dynamic value1 =  ::Dynamic(value->__Field(HX_("push",da,11,61,4a),::hx::paccDynamic));
HXDLIN(  70)						value1(::flxanimate::format::PropertyList_obj::parseValue(childNode1));
            					}
            				}
HXLINE(  66)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("data",2a,56,63,42)) ){
HXLINE(  89)				value = ::haxe::xml::_Access::Access_Impl__obj::get_innerData(node);
HXDLIN(  89)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("date",2e,56,63,42)) ){
HXLINE(  77)				value = ::flxanimate::format::PropertyList_obj::parseDate(::haxe::xml::_Access::Access_Impl__obj::get_innerData(node));
HXDLIN(  77)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("dict",76,59,69,42)) ){
HXLINE(  74)				value = ::flxanimate::format::PropertyList_obj::parseDict(node);
HXDLIN(  74)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("false",a3,35,4f,fb)) ){
HXLINE(  95)				value = false;
HXDLIN(  95)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("integer",be,bd,1b,17)) ){
HXLINE( 101)				value = ::Std_obj::parseInt(::haxe::xml::_Access::Access_Impl__obj::get_innerData(node));
HXDLIN( 101)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("real",5e,4b,a7,4b)) ){
HXLINE(  98)				value = ::Std_obj::parseFloat(::haxe::xml::_Access::Access_Impl__obj::get_innerData(node));
HXDLIN(  98)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("string",d1,28,30,11)) ){
HXLINE(  80)				 ::Dynamic thing = ::haxe::xml::_Access::Access_Impl__obj::get_innerData(node);
HXLINE(  81)				if (::hx::IsEq( thing->__Field(HX_("charAt",69,79,75,b7),::hx::paccDynamic)(0),HX_("{",7b,00,00,00) )) {
HXLINE(  83)					thing = ::StringTools_obj::replace(( (::String)(thing) ),HX_("{",7b,00,00,00),HX_("",00,00,00,00));
HXLINE(  84)					thing = ::StringTools_obj::replace(( (::String)(thing) ),HX_("}",7d,00,00,00),HX_("",00,00,00,00));
HXLINE(  85)					thing = thing->__Field(HX_("split",da,ea,6e,81),::hx::paccDynamic)(HX_(",",2c,00,00,00));
            				}
HXLINE(  87)				value = thing;
HXLINE(  79)				goto _hx_goto_4;
            			}
            			if (  (_hx_switch_0==HX_("true",4e,a7,03,4d)) ){
HXLINE(  92)				value = true;
HXDLIN(  92)				goto _hx_goto_4;
            			}
            			_hx_goto_4:;
            		}
HXLINE( 103)		return value;
            	}


STATIC_HX_DEFINE_DYNAMIC_FUNC1(PropertyList_obj,parseValue,return )


PropertyList_obj::PropertyList_obj()
{
}

bool PropertyList_obj::__GetStatic(const ::String &inName, Dynamic &outValue, ::hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 5:
		if (HX_FIELD_EQ(inName,"parse") ) { outValue = parse_dyn(); return true; }
		break;
	case 9:
		if (HX_FIELD_EQ(inName,"parseDate") ) { outValue = parseDate_dyn(); return true; }
		if (HX_FIELD_EQ(inName,"parseDict") ) { outValue = parseDict_dyn(); return true; }
		break;
	case 10:
		if (HX_FIELD_EQ(inName,"_dateRegex") ) { outValue = ( _dateRegex ); return true; }
		if (HX_FIELD_EQ(inName,"parseValue") ) { outValue = parseValue_dyn(); return true; }
	}
	return false;
}

bool PropertyList_obj::__SetStatic(const ::String &inName,Dynamic &ioValue,::hx::PropertyAccess inCallProp)
{
	switch(inName.length) {
	case 10:
		if (HX_FIELD_EQ(inName,"_dateRegex") ) { _dateRegex=ioValue.Cast<  ::EReg >(); return true; }
	}
	return false;
}

#ifdef HXCPP_SCRIPTABLE
static ::hx::StorageInfo *PropertyList_obj_sMemberStorageInfo = 0;
static ::hx::StaticInfo PropertyList_obj_sStaticStorageInfo[] = {
	{::hx::fsObject /*  ::EReg */ ,(void *) &PropertyList_obj::_dateRegex,HX_("_dateRegex",7a,9d,be,21)},
	{ ::hx::fsUnknown, 0, null()}
};
#endif

static void PropertyList_obj_sMarkStatics(HX_MARK_PARAMS) {
	HX_MARK_MEMBER_NAME(PropertyList_obj::_dateRegex,"_dateRegex");
};

#ifdef HXCPP_VISIT_ALLOCS
static void PropertyList_obj_sVisitStatics(HX_VISIT_PARAMS) {
	HX_VISIT_MEMBER_NAME(PropertyList_obj::_dateRegex,"_dateRegex");
};

#endif

::hx::Class PropertyList_obj::__mClass;

static ::String PropertyList_obj_sStaticFields[] = {
	HX_("_dateRegex",7a,9d,be,21),
	HX_("parse",33,90,55,bd),
	HX_("parseDate",01,a8,09,ca),
	HX_("parseDict",49,ab,0f,ca),
	HX_("parseValue",3e,c6,99,5b),
	::String(null())
};

void PropertyList_obj::__register()
{
	PropertyList_obj _hx_dummy;
	PropertyList_obj::_hx_vtable = *(void **)&_hx_dummy;
	::hx::Static(__mClass) = new ::hx::Class_obj();
	__mClass->mName = HX_("flxanimate.format.PropertyList",8b,21,43,72);
	__mClass->mSuper = &super::__SGetClass();
	__mClass->mConstructEmpty = &__CreateEmpty;
	__mClass->mConstructArgs = &__Create;
	__mClass->mGetStaticField = &PropertyList_obj::__GetStatic;
	__mClass->mSetStaticField = &PropertyList_obj::__SetStatic;
	__mClass->mMarkFunc = PropertyList_obj_sMarkStatics;
	__mClass->mStatics = ::hx::Class_obj::dupFunctions(PropertyList_obj_sStaticFields);
	__mClass->mMembers = ::hx::Class_obj::dupFunctions(0 /* sMemberFields */);
	__mClass->mCanCast = ::hx::TCanCast< PropertyList_obj >;
#ifdef HXCPP_VISIT_ALLOCS
	__mClass->mVisitFunc = PropertyList_obj_sVisitStatics;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mMemberStorageInfo = PropertyList_obj_sMemberStorageInfo;
#endif
#ifdef HXCPP_SCRIPTABLE
	__mClass->mStaticStorageInfo = PropertyList_obj_sStaticStorageInfo;
#endif
	::hx::_hx_RegisterClass(__mClass->mName, __mClass);
}

void PropertyList_obj::__boot()
{
{
            	HX_GC_STACKFRAME(&_hx_pos_8b9e85c4d6a3364a_16_boot)
HXDLIN(  16)		_dateRegex =  ::EReg_obj::__alloc( HX_CTX ,HX_("(\\d{4}-\\d{2}-\\d{2})(?:T(\\d{2}:\\d{2}:\\d{2})Z)?",09,02,21,c9),HX_("",00,00,00,00));
            	}
}

} // end namespace flxanimate
} // end namespace format
